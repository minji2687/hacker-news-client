{"version":3,"sources":["app.ts"],"names":[],"mappings":"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","file":"app.c61986b1.map","sourceRoot":"..","sourcesContent":["const container: HTMLElement | null = document.getElementById(\"root\");\nlet ajax: XMLHttpRequest = new XMLHttpRequest();\nconst content = document.createElement(\"div\");\nconst NEWS_URL = \"https://api.hnpwa.com/v0/news/1.json\";\nconst CONTENT_URL = \"https://api.hnpwa.com/v0/item/@id.json\";\n\ninterface Store {\n  currentPage:number;\n  feeds:NewsFeed[];\n}\n\n\nfunction applyApiMixins(targetClass:any, baseClasses:any[]):void{\n    baseClasses.forEach(baseClass=>{\n      Object.getOwnPropertyNames(baseClass.prototype).forEach(name=>{\n        const descriptor= Object.getOwnPropertyDescriptor(baseClass.prototype, name)\n\n        if(descriptor){\n          Object.defineProperty(targetClass.prototype, name, descriptor)\n        }\n      })\n    })\n}\n\ninterface News {\n  readonly id:number;\n  readonly time_ago:string;\n  readonly title:string;\n  readonly url:string;\n  readonly user:string;\n  readonly content:string,\n}\n\ninterface NewsFeed extends News {\n  readonly comments_count:number;\n  readonly points:number;\n  read?:boolean;\n}\n\ninterface NewsDetail extends News {\n  readonly comments: NewsComments[];\n}\n\ninterface NewsComments extends News {\n  readonly comments:NewsComments[],\n  readonly level:number\n}\n\ninterface RouteInfo{\n  path:string;\n  page:View;\n}\n\nconst store:Store = {\n  currentPage: 1,\n  feeds: [],\n};\n\n\nclass Api{\n  getRequest<AjaxResponse>(url:string):AjaxResponse{\n    const ajax = new XMLHttpRequest()\n      ajax.open(\"GET\", url, false);\n      ajax.send();\n  \n    return JSON.parse(ajax.response);\n  }\n}\n\nclass NewsFeedApi{\n  getData():NewsFeed[]{\n    return this.getRequest<NewsFeed[]>(NEWS_URL)\n  }\n}\n\nclass NewsDetailApi{\n  getData(id:string):NewsDetail{\n    return this.getRequest<NewsDetail>(CONTENT_URL.replace(\"@id\",id))\n    \n  }\n} \n\ninterface NewsFeedApi extends Api {}\ninterface NewsDetailApi extends Api {}\n\napplyApiMixins(NewsDetailApi, [Api])\n\n  applyApiMixins(NewsFeedApi, [Api])\n\nfunction getData<AjaxResponse>(url:string):AjaxResponse{\n  ajax.open(\"GET\", url, false);\n  ajax.send();\n\n  return JSON.parse(ajax.response);\n}\n//view class start\nabstract class View {\n  private template:string;\n  private renderTemplate:string;\n  private container:HTMLElement;\n  private htmlList: string[];\n\n  constructor(containerId:string,template:string ){\n    const containerElement = document.getElementById(containerId)\n\n    if(!containerElement){\n      throw '최상위 컨테이너가 없어 UI를 전달하지 못합니다.'\n    }\n    this.container = containerElement\n    this.template = template\n    this.renderTemplate = template;\n    this.htmlList = [];\n  }\n\n  protected updateView():void{\n      this.container.innerHTML = this.renderTemplate;\n      this.renderTemplate = this.template;\n  }\n\n  protected addHtml(htmlString:string):void{\n    this.htmlList.push(htmlString)\n  }\n\n  getHtml():string {\n    const snapshot = this.htmlList.join('');\n    this.clearHtmlList()\n    return snapshot\n  }\n\n  setTemplateData(key:string, value: string):void{\n    this.renderTemplate = this.renderTemplate.replace(`{{__${key}__}}`,value)\n  }\n\n  clearHtmlList():void{\n    this.htmlList = [];\n  }\n  abstract render(): void;\n}\n//view ClassEnd\n\nclass Router {\n  routeTable:RouteInfo[]\n\n  defaultRoute:RouteInfo|null;\n\n  constructor(){\n    window.addEventListener(\"hashchange\", this.route.bind(this));\n    this.routeTable = [];\n    this.defaultRoute = null;\n  }\n\n  setDefaultPage(page:View):void{\n      this.defaultRoute = {\n        path:'',\n        page\n      }\n  }\n\n  route(){\n    const routePath = location.hash;\n    if(routePath === '' && this.defaultRoute){\n      this.defaultRoute.page.render();\n    }\n\n    for(const routeInfo of this.routeTable){\n      if(routePath.indexOf(routeInfo.path)>=0){\n        routeInfo.page.render();\n        break;\n      }\n    }\n\n  }\n\n  addRoutePath(path:string,page:View):void{\n    this.routeTable.push(\n      {\n        path,\n        page\n      }\n    )\n  }\n\n  \n}\n\n//newsFeed class start\nclass NewsFeedView extends View{\n  private api : NewsFeedApi;\n  private feeds: NewsFeed[];\n\n  constructor(containerId:string,){\n    let template = `\n  <div class=\"bg-gray-600 min-h-screen\">\n    <div class=\"bg-white text-xl\">\n      <div class=\"mx-auto px-4\">\n        <div class=\"flex justify-between items-center py-6\">\n          <div class=\"flex justify-start\">\n            <h1 class=\"font-extrabold\">Hacker News</h1>\n          </div>\n          <div class=\"items-center justify-end\">\n            <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">\n              Previous\n            </a>\n            <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">\n              Next\n            </a>\n          </div>\n        </div> \n      </div>\n    </div>\n    <div class=\"p-4 text-2xl text-gray-700\">\n      {{__news_feed__}}        \n    </div>\n  </div>\n  `;\n\n    super(containerId,template);\n    this.api = new NewsFeedApi()\n    this.feeds = store.feeds;\n\n  if (this.feeds.length === 0) {\n   this.feeds = store.feeds = this.api.getData();\n   this.makeFeeds()\n  }\n  \n}\n  \n  render():void{\n    store.currentPage = Number(location.hash.substr(7)) || 1\n      for (let i = (store.currentPage - 1) * 10; i < store.currentPage * 10; i++) {\n        const {id,user,points,time_ago,title,read,comments_count} = this.feeds[i]\n        this.addHtml(`\n          <div class=\"p-6 ${\n            read ? \"bg-red-500\" : \"bg-white\"\n          } mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\n            <div class=\"flex\">\n              <div class=\"flex-auto\">\n                <a href=\"#/show/${id}\">${title}</a>  \n              </div>\n              <div class=\"text-center text-sm\">\n                <div class=\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">${\n                  comments_count\n                }</div>\n              </div>\n            </div>\n            <div class=\"flex mt-3\">\n              <div class=\"grid grid-cols-3 text-sm text-gray-500\">\n                <div><i class=\"fas fa-user mr-1\"></i>${user}</div>\n                <div><i class=\"fas fa-heart mr-1\"></i>${points}</div>\n                <div><i class=\"far fa-clock mr-1\"></i>${time_ago}</div>\n              </div>  \n            </div>\n          </div>    \n        `);\n      }\n    \n    this.setTemplateData('news_feed', this.getHtml())\n    this.setTemplateData('prev_page',  String(store.currentPage > 1 ? store.currentPage - 1 : 1))\n    this.setTemplateData('next_page',  String(store.currentPage + 1))\n    \n    this.updateView()\n\n    }\n\n    private makeFeeds(){\n      for (let i = 0; i < this.feeds.length; i++) {\n        this.feeds[i].read = false;\n      }\n    }\n  \n  \n}\n//newsList class end\n\n\n//NewsDetailView class start\nclass NewsDetailView extends View{\n\n  constructor(containerId:string){\n\n    let template = `\n    <div class=\"bg-gray-600 min-h-screen pb-8\">\n      <div class=\"bg-white text-xl\">\n        <div class=\"mx-auto px-4\">\n          <div class=\"flex justify-between items-center py-6\">\n            <div class=\"flex justify-start\">\n              <h1 class=\"font-extrabold\">Hacker News</h1>\n            </div>\n            <div class=\"items-center justify-end\">\n              <a href=\"#/page/{{__currentPage__}}\" class=\"text-gray-500\">\n                <i class=\"fa fa-times\"></i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n  \n      <div class=\"h-full border rounded-xl bg-white m-6 p-4 \">\n        <h2>{{__title__}}</h2>\n        <div class=\"text-gray-400 h-20\">\n            {{__content__}}\n        </div>\n  \n        {{__comments__}}\n  \n      </div>\n    </div>\n  `;\n    super(containerId,template)\n  }\n    \n  render(){\n    const id = location.hash.substr(7);\n    const api = new NewsDetailApi()\n    const newsDetail = api.getData(id)\n    console.log(location.hash);\n    \n\n    this.setTemplateData('comments', this.makeComment(newsDetail.comments))\n    this.setTemplateData('currentPage',String(store.currentPage))\n    this.setTemplateData('title', newsDetail.title)\n    this.setTemplateData('content', newsDetail.content)\n    this.updateView()\n\n  }\n\n  \n\n  private makeComment(comments:NewsComments[]):string {\n\n        for (let i = 0; i < comments.length; i++) {\n          const comment:NewsComments = comments[i]\n         this.addHtml(`\n          <div style=\"padding-left: ${comment.level * 40}px;\" class=\"mt-4\">\n            <div class=\"text-gray-400\">\n              <i class=\"fa fa-sort-up mr-2\"></i>\n              <strong>${comment.user}</strong> ${comment.time_ago}\n            </div>\n            <p class=\"text-gray-700\">${comment.content}</p>\n          </div>      \n        `);\n\n          if (comment.comments.length > 0) {\n            this.addHtml(this.makeComment(comment.comments));\n          }\n        }\n\n      return this.getHtml()\n    }\n}\n\nconst router :Router = new Router()\nconst newsFeedView = new NewsFeedView('root');\nconst newsDetailView = new NewsDetailView('root');\n\n\nrouter.setDefaultPage(newsFeedView)\nrouter.addRoutePath('/page/',newsFeedView)\nrouter.addRoutePath('/show/',newsDetailView)\n\n\n\n\n \n\nrouter.route()\n\n\n\n"]}