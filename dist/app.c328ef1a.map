{"version":3,"sources":["app.js"],"names":["ajax","XMLHttpRequest","container","document","getElementById","content","createElement","NEWS_URL","CONTENT_URL","store","currentPage","getData","url","open","send","JSON","parse","response","newsFeed","newsList","template","i","push","id","title","comments_count","replace","join","innerHTML","ul","newsDetail","location","hash","substr","console","log","newsContent","router","routePath","indexOf","Number","window","addEventListener"],"mappings":"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","file":"app.c328ef1a.map","sourceRoot":"..","sourcesContent":["let ajax = new XMLHttpRequest();\nconst container = document.getElementById(\"root\");\nconst content = document.createElement(\"div\");\nconst NEWS_URL = \"https://api.hnpwa.com/v0/news/1.json\";\nconst CONTENT_URL = \"https://api.hnpwa.com/v0/item/@id.json\";\n\nconst store = {\n  currentPage: 1,\n};\n\nfunction getData(url) {\n  ajax.open(\"GET\", url, false);\n  ajax.send();\n\n  return JSON.parse(ajax.response);\n}\n\nfunction newsFeed() {\n  const newsFeed = getData(NEWS_URL);\n  const newsList = [];\n  let template = `\n  <div class=\"container m-auto p-4\">\n    <h1>Hacker News</h1>\n    <ul>\n      {{__news_feed__}}\n    </ul>\n    <div>\n      <a href=\"#/page/{{__prev_page__}}\">이전페이지</a>\n      <a href=\"#/page/{{__next_page__}}\">다음페이지</a>\n    </div>\n  </div>\n  `;\n\n  for (let i = (store.currentPage - 1) * 10; i < store.currentPage * 10; i++) {\n    newsList.push(`\n    <li>\n        <a href=\"#/show/${newsFeed[i].id}\">\n          ${newsFeed[i].title}(${newsFeed[i].comments_count})\n        </a>  \n    </li>\n    `);\n  }\n\n  template = template.replace(\"{{__news_feed__}}\", newsList.join(\"\"));\n  template = template.replace(\n    \"{{__prev_page__}}\",\n    store.currentPage > 1 ? store.currentPage - 1 : 1\n  );\n  template = template.replace(\"{{__next_page__}}\", store.currentPage + 1);\n\n  container.innerHTML = template;\n}\nconst ul = document.createElement(\"ul\");\n\nfunction newsDetail() {\n  const id = location.hash.substr(7);\n  console.log(location.hash);\n\n  const newsContent = getData(CONTENT_URL.replace(\"@id\", id));\n  container.innerHTML = `\n  <h1>${newsContent.title}</h1>\n  <div>\n    <a href=\"#/page/${store.currentPage}\">목록으로</a>\n  </div>\n  `;\n}\n\nfunction router() {\n  const routePath = location.hash;\n  if (routePath === \"\") {\n    newsFeed();\n  } else if (routePath.indexOf(\"#/page/\") >= 0) {\n    store.currentPage = Number(routePath.substr(7));\n    newsFeed();\n  } else {\n    newsDetail();\n  }\n}\n\nwindow.addEventListener(\"hashchange\", router);\n\nrouter();\n"]}